# Fallout VR Address Library

[![GitHub Release][releases-shield]][releases]
![GitHub all releases][download-all]
![GitHub release (latest by SemVer)][download-latest]
[![GitHub Activity][commits-shield]][commits]

[![License][license-shield]][license]

![Project Maintenance][maintenance-shield]
[![BuyMeCoffee][buymecoffeebadge]][buymecoffee]

Tools for converting a Fallout 4 f4se mod to VR.

## Description

This repo includes CSV files that include various data. This is meant to be processed by https://github.com/alandtse/vr_address_tools.

#### fo4_database.csv
A csv for generating release csv files for loading in CommonLibF4 to replace [addresslib][addresslib]. This intended to be a database to identify addresslib ids that represent SkyrimSSE addresses and convert to appropriate VR address. This can be manually edited and is intended to be a community resource. The database.csv can be converted to a release csv using [vr_address_tools.py generate](https://github.com/alandtse/vr_address_tools#generate).

|id|fo4|vr|status|name|
|---|--|--|--|----|
|10878|0x1400f7210|0x1401077c0|3|RE::Offset::BGSDefaultObjectManager::GetSingleton

  * id  - Addresslib id
  * fo4 - fo4 Address with base (e.g., 0x1400f7210)
  * vr - VR Address with base (e.g., 0x1401077c0)
  * status - The level of confidence in the VR address.
       * 0 - Unknown
       * 1 - Suggested by automatic tools
       * 2 - Manually entered and assumed manually verified
       * 3 - Manually entered with suggested automatic tools verification
       * 4 - Bit for bit identical (offsets and patches should work identically)
  * name (optional) - A friendly name to describe the id

#### Release CSVs
A non-standard csv installed by end users in the `data/f4se/plugins/` directory. This follows the addresslib naming of `version-{skyrim version}.csv`. The first row of data is the csv header, second row is meta data, and third row and beyond is the actual data:

| id | offset |
|-----|--------|
| total entries | version |
| 10878 | 01077c0 |
* id  - Addresslib id
* offset - VR Address as offset (e.g., 01077c0)
* total entries - The number of entries to reserve space for. **WARNING**: CTDs may occur if the **total entries** is less than the actual number of entries since it is allocating space for a memory map.
* version - The release version which is a [semantic version](https://semver.org/).

#### Analysis CSVs
These are CSVs intended to aid in analysis.
##### offsets-1.10.163.0.csv

A dump of addresslib for Fallout4 1.10.163.0. This should be considered canonical for the id -> fo4 mapping.

|id|fo4|
|--|--|
2|10d0

* id  - Addresslib id
* fo4 - FO4 offset (e.g., 10d0)

##### fo4_vr.csv

A mapping file generated by meh321 using IDADiffCalculator, the script used to calculate SSE offsets. Partially automated.
|fo4|vr|
|--|--|
|0x141992C10|0x141A33D38|
* fo4 - FO4 Address with base (e.g., 0x1400f7210)
* vr - VR Address with base (e.g., 0x1401077c0)


##### fo4_fovr_offsets.csv

Output of [merge.py]. This tries to map GHIDRA mappings. This is an algorithmic only mapping and meant as input for `vr_address_tools`.

## Address IDs

Address IDs are keyed into FO4. However, occasionally an FO4 address will not have an Address ID. In that case, they may still be entered by taking the integer value of the Fallout4 address.

|id|fo4|vr|status|name|
|---|--|--|--|----|
|5370397616|0x14019c3b0|0x1401ac0e0|3|RE::BSShaderProperty::InvalidateMaterial


<!---->

## Contributions are welcome!

If you want to contribute to this please read the [Contribution guidelines](CONTRIBUTING.md)

---

[buymecoffee]: https://www.buymeacoffee.com/alandtse
[buymecoffeebadge]: https://img.shields.io/badge/buy%20me%20a%20coffee-donate-yellow.svg?style=for-the-badge
[commits-shield]: https://img.shields.io/github/commit-activity/w/alandtse/vr_address_tools?style=for-the-badge
[commits]: https://github.com/alandtse/fallout_vr_address_library/commits/main
[license]: LICENSE
[license-shield]: https://img.shields.io/github/license/alandtse/fallout_vr_address_library.svg?style=for-the-badge
[maintenance-shield]: https://img.shields.io/badge/maintainer-Alan%20Tse%20%40alandtse-blue.svg?style=for-the-badge
[releases-shield]: https://img.shields.io/github/release/alandtse/fallout_vr_address_library.svg?style=for-the-badge
[releases]: https://github.com/alandtse/fallout_vr_address_library/releases
[download-all]: https://img.shields.io/github/downloads/alandtse/fallout_vr_address_library/total?style=for-the-badge
[download-latest]: https://img.shields.io/github/downloads/alandtse/fallout_vr_address_library/latest/total?style=for-the-badge
[addresslib]: https://www.nexusmods.com/fallout4/mods/64879
